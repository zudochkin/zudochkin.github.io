---
author: admin
comments: true
date: 2010-04-16 13:42:15+00:00
layout: post
slug: jqueryui-sortable

permalink: /2010/04/jqueryui-sortable

title: jQuery UI - сортировка в стиле web 2.0
wordpress_id: 447
categories:
- jQuery
- php
tags:
- drag&amp;drop
- jQuery UI
- mysql
- sortable
---

[![jqueryuisortable](http://vredniy.ru/wp-content/uploads/2010/04/jqueryuisortable-150x150.jpg)](http://vredniy.ru/wp-content/uploads/2010/04/jqueryuisortable.jpg)

Сегодня речь пойдет о выводе товаров или чего-нибудь еще в определенном порядке, порядок это храниться будет в базе данных, как и другие характеристики товара. Но вместо того, чтобы выводить индексы и предоставлять возможность их менять, мы сделаем изменения порядка в стиле Web 2.0.<!-- more --> Для начала нам понадобится база данных, в которой и будет храниться вся нужная информация. Я создал простую базу, сохраняющую лишь ID, миниатюру, название и порядок вывода.




Далее нам нужно скачать jQuery UI и плагин к нему sortable, который и будет выполнять почти всю черную работу на клинтской части. Скачать их можно с официального сайта jQuery UI. 




После нажатия на кнопку "Закончить" мы по средстам AJAX будем отправлять массив, содержащий новую очередность нашему скрипту. Именно он будет записывать новый порядок в базу данных. Надеюсь, код не вызовет затруднений, я старался его подробно комментировать.


[cc lang="php"]

    
    
         0 ORDER BY new_prod DESC";
            
            $res = mysql_query($sql);
            echo '

';
            
            /*вывод товаров*/
            while($row = mysql_fetch_object($res)) {
            ?>
    
  * 
![](<?php echo $row->photo;?>)
name;?>

            

';
    } else {
        echo mysql_error();
    }
    ?>
    

*Для изменения порядка просто перетаскивайте элементы, удерживая левую кнопку мыши.
 Элементы в начале списка выводятся в первую очередь.


Закончить изменение
    


    

[/cc]

Скрипт сохранения нового порядка в базу данных
[cc lang="php"]
[/cc]
Оказывается нет ничего в этом сложного, а пользователей такая возможность приятно удивит.
